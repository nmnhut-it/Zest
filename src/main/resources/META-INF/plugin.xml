<idea-plugin>
    <!-- Plugin name displayed in the IDE -->
    <!-- Read more: https://plugins.jetbrains.com/docs/marketplace/plugin-overview-page.html#plugin-name -->
    <name>Zest</name>
    
    <!-- Unique identifier of the plugin. It should be FQN. It cannot be changed between the plugin versions. -->
    <id>com.zps.Zest</id>
    
    <!-- Plugin version -->
    <version>1.9.902</version>

    <!-- Vendor information -->
    <vendor email="nhutnm3@vng.com.vn" url="https://www.vng.com.vn">Zingplay Game Studio</vendor>
    <!-- Plugin description -->
    <description><![CDATA[
   <h2>Zest: Smarter Java Development with AI</h2>
   <p><b>Zest</b> supercharges your IntelliJ workflow. Instantly generate JUnit tests, implement TODOs, and refactor for testability‚Äîall powered by AI. Enjoy one-click code reviews, auto-generated commit messages, and smart comments. Boost productivity, ship quality code, and let Zest handle the repetitive stuff so you can focus on building great software. Try Zest and make testing effortless.</p>]]></description>
    
    <!-- Compatibility version range -->
    <!-- Read more: https://plugins.jetbrains.com/docs/intellij/plugin-compatibility.html -->
    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.java</depends>
    <idea-version since-build="223.0" until-build="259.*"/>
    
    <projectListeners>


        <listener class="com.zps.zest.inlinechat.JCefInitializer"
                  topic="com.intellij.openapi.startup.ProjectActivity"/>
    </projectListeners>
    
    <!-- Read more: https://plugins.jetbrains.com/docs/intellij/plugin-extension-points.html -->
    <extensions defaultExtensionNs="com.intellij">
        <!-- Application-level service for global settings -->
        <applicationService serviceImplementation="com.zps.zest.settings.ZestGlobalSettings"/>
        
        <!-- Project-level service for project-specific settings -->
        <projectService serviceImplementation="com.zps.zest.settings.ZestProjectSettings"/>
        <!-- Using backgroundPostStartupActivity for better performance -->
        <backgroundPostStartupActivity implementation="com.zps.zest.completion.ZestCompletionStartupActivity"/>
        <backgroundPostStartupActivity implementation="com.zps.zest.codehealth.CodeGuardianStartupActivity"/>
        <backgroundPostStartupActivity implementation="com.zps.zest.settings.SettingsMigrationNotice"/>
        <backgroundPostStartupActivity implementation="com.zps.zest.startup.PromptMigrationStartupActivity"/>
        <backgroundPostStartupActivity implementation="com.zps.zest.mcp.ToolApiServerStartupActivity"/>
        <backgroundPostStartupActivity implementation="com.zps.zest.update.VersionUpdateNotifier"/>
        <editorFactoryListener implementation="com.zps.zest.events.ZestEditorFactoryListener"/>
        <actionPromoter order="first" implementation="com.zps.zest.completion.actions.ZestActionPromoter"/>

                    

            
        <projectConfigurable
                groupId="tools"
                instance="com.zps.zest.settings.ZestSettingsConfigurable"
                displayName="Zest Plugin"
                id="zest.settings"
                nonDefaultProject="true"/>

                
        <projectConfigurable
                instance="com.zps.zest.codehealth.CodeHealthConfigurable"
                displayName="Code Health"
                id="zest.codeguardian"
                parentId="zest.settings"
                nonDefaultProject="true"/>

        <notificationGroup id="Zest LLM" displayType="BALLOON" toolWindowId="Terminal" isLogByDefault="false"/>
        <notificationGroup id="Code Health" displayType="BALLOON" toolWindowId="Terminal" isLogByDefault="false"/>
        <notificationGroup id="Zest Completion Debug" displayType="BALLOON" isLogByDefault="false"/>
        <notificationGroup id="Zest Updates" displayType="BALLOON" isLogByDefault="false"/>


        <!-- Status Bar Widgets -->
        <statusBarWidgetFactory id="ZestCompletionStatus" 
                               implementation="com.zps.zest.completion.ui.ZestCompletionStatusBarWidgetFactory" 
                               order="last"/>
        <statusBarWidgetFactory id="CodeHealthStatusBarWidget" 
                               implementation="com.zps.zest.codehealth.ui.CodeGuardianStatusBarWidgetFactory" 
                               order="last"/>

        
        <!-- Code Health Notification Group -->
        <notificationGroup id="Zest Code Health" displayType="BALLOON" isLogByDefault="false"/>
        
        <!-- Code Health Editor Provider -->
        <fileEditorProvider implementation="com.zps.zest.codehealth.ui.editor.CodeHealthEditorProvider"/>
        

        
        <!-- Zest Chat Editor Provider -->
        <fileEditorProvider implementation="com.zps.zest.browser.editor.ZestChatEditorProvider"/>
        
        <!-- Test Generation Editor Provider -->
        <fileEditorProvider implementation="com.zps.zest.testgen.ui.TestGenerationFileEditorProvider"/>
        

        <!-- LangChain4j Services for agentic retrieval and AI task management -->
        <projectService serviceImplementation="com.zps.zest.langchain4j.ZestLangChain4jService"/>
        <projectService serviceImplementation="com.zps.zest.langchain4j.naive_service.NaiveStreamingLLMService"/>
        <projectService serviceImplementation="com.zps.zest.retrieval.core.EmbeddingService"/>
        
        <!-- Test Generation Service -->
        <projectService serviceImplementation="com.zps.zest.testgen.StateMachineTestGenerationService"/>
        
        <!-- Chat UI Service -->
        <projectService serviceImplementation="com.zps.zest.chatui.ChatUIService"/>

        <!-- Browser Services -->
        <projectService serviceImplementation="com.zps.zest.browser.JCEFBrowserService"/>

        <!-- Tool API Server Service -->
        <projectService serviceImplementation="com.zps.zest.mcp.ToolApiServerService"/>
        
        <!-- Inline Completion Services -->
        <projectService serviceImplementation="com.zps.zest.completion.ZestInlineCompletionService"/>
    </extensions>
    
    <actions>
        <group id="Zest.InlineCompletion" text="Zest Inline Completion">
            <action id="Zest.InlineCompletion.Trigger"
                    class="com.zps.zest.completion.actions.ZestTrigger"
                    text="Trigger Inline Completion / G·ª£i √Ω code th√¥ng minh"
                    description="Trigger smart code suggestions at cursor position / G·ª£i √Ω code th√¥ng minh t·∫°i v·ªã tr√≠ con tr·ªè">
                <keyboard-shortcut first-keystroke="ctrl alt SPACE" keymap="$default"/>

            </action>

            <action id="Zest.InlineCompletion.TabAccept"
                    class="com.zps.zest.completion.actions.ZestTabAccept"
                    text="Accept Completion (Tab) / Ch·∫•p nh·∫≠n g·ª£i √Ω (Tab)"
                    description="Accept suggestion with Tab key / Ch·∫•p nh·∫≠n g·ª£i √Ω b·∫±ng ph√≠m Tab">
                <keyboard-shortcut first-keystroke="TAB" keymap="$default"/>
            </action>

            <!-- Temporarily disabled - needs reimplementation
            <action id="Zest.InlineCompletion.Accept"
                    class="com.zps.zest.completion.actions.ZestAccept"
                    text="Accept Completion"
                    description="Ch·∫•p nh·∫≠n g·ª£i √Ω b·∫±ng Ctrl+Tab">
                <keyboard-shortcut first-keystroke="ctrl TAB" keymap="$default"/>
            </action>
            -->

            <!-- Temporarily disabled - needs reimplementation
            <action id="Zest.InlineCompletion.CycleNext"
                    class="com.zps.zest.completion.actions.ZestCycleNext"
                    text="Cycle Next Completion"
                    description="Xem g·ª£i √Ω ti·∫øp theo (Alt+Down)">
                <keyboard-shortcut first-keystroke="alt DOWN" keymap="$default"/>
            </action>

            <action id="Zest.InlineCompletion.CyclePrevious"
                    class="com.zps.zest.completion.actions.ZestCyclePrevious"
                    text="Cycle Previous Completion"
                    description="Xem g·ª£i √Ω tr∆∞·ªõc ƒë√≥ (Alt+Up)">
                <keyboard-shortcut first-keystroke="alt UP" keymap="$default"/>
            </action>
            -->

            <action id="Zest.InlineCompletion.Dismiss"
                    class="com.zps.zest.completion.actions.ZestDismiss"
                    text="Dismiss Completion / H·ªßy b·ªè g·ª£i √Ω"
                    description="Cancel suggestion with Escape / H·ªßy g·ª£i √Ω b·∫±ng ph√≠m Escape">
                <keyboard-shortcut first-keystroke="ESCAPE" keymap="$default"/>
            </action>

            <action id="Zest.TriggerQuickAction"
                    class="com.zps.zest.completion.actions.ZestTriggerQuickAction"
                    text="Quick Action... / Thao t√°c nhanh..."
                    description="Perform specific task on selected code / Th·ª±c hi·ªán t√°c v·ª• c·ª• th·ªÉ tr√™n code ƒë√£ ch·ªçn">
                <keyboard-shortcut first-keystroke="ctrl SPACE" keymap="$default"/>
                <keyboard-shortcut first-keystroke="ctrl SPACE" keymap="Mac OS X"/>
                <keyboard-shortcut first-keystroke="ctrl SPACE" keymap="Mac OS X 10.5+"/>
            </action>
        </group>

        <group id="ZestGroup" text="Zest" description="AI-powered tools for development / C√¥ng c·ª• AI h·ªó tr·ª£ l·∫≠p tr√¨nh" popup="true"
               icon="com.zps.zest.ZestIcons.ZEST">
            <add-to-group group-id="EditorPopupMenu" anchor="first"/>
        </group>
        
        <!-- Simple Chat Dialog Action -->
<!--        <action id="Zest.OpenSimpleChat"-->
<!--                class="com.zps.zest.chatui.OpenChatDialogAction"-->
<!--                text="üí¨ Open Chat - Simple / M·ªü h·ªôp tho·∫°i chat trong Intelij"-->
<!--                description="Open simple chat dialog for AI assistance / M·ªü h·ªôp tho·∫°i chat ƒë∆°n gi·∫£n v·ªõi AI">-->
<!--            <add-to-group group-id="ZestGroup" anchor="first"/>-->
<!--        </action>-->
        
        <!-- Open Chat in Editor Action -->
        <action id="Zest.OpenChatInEditor"
                class="com.zps.zest.browser.actions.OpenChatInEditorAction"
                text="Open Chat / M·ªü chat to√†n m√†n h√¨nh"
                description="Open ZPS Chat in full-screen editor tab / M·ªü chat AI trong tab to√†n m√†n h√¨nh">
            <add-to-group group-id="ZestGroup" anchor="first"/>
        </action>



        <!-- Toolbar Actions -->
        <action id="Zest.OpenChat"
                class="com.zps.zest.browser.actions.OpenZestChatAction"
                text="Chat / Tr√≤ chuy·ªán v·ªõi AI"
                icon="com.zps.zest.ZestIcons.ZPS_CHAT"
                description="Open ZPS AI Chat / M·ªü c·ª≠a s·ªï tr√≤ chuy·ªán v·ªõi AI">
            <add-to-group group-id="MainToolbarRight" anchor="last"/>
            <keyboard-shortcut keymap="$default" first-keystroke="ctrl shift C"/>
        </action>

        <action id="Zest.OpenCodeHealth"
                class="com.zps.zest.codehealth.actions.OpenCodeHealthAction"
                text="Health / Ki·ªÉm tra s·ª©c kh·ªèe code"
                icon="com.zps.zest.ZestIcons.CODE_HEALTH"
                description="Open Code Health Overview / M·ªü b·∫£ng ki·ªÉm tra ch·∫•t l∆∞·ª£ng code">
            <add-to-group group-id="MainToolbarRight" anchor="after" relative-to-action="Zest.OpenChat"/>
        </action>

        <action id="Zest.SendCodeReviewToChatBox"
                class="com.zps.zest.browser.actions.SendCodeReviewToChatBox"
                text="Code Review (Chat) / Nh·ªù AI xem code"
                icon="com.zps.zest.ZestIcons.ZPS_CHAT_16"
                description="AI reviews and suggests improvements / AI xem x√©t code v√† ƒë∆∞a ra g·ª£i √Ω c·∫£i thi·ªán">
            <add-to-group group-id="ZestGroup" anchor="last"/>
            <add-to-group group-id="EditorPopupMenu" anchor="after" relative-to-action="Zest.ReviewCurrentFile"/>
        </action>

        <action id="Zest.GitCommitMessageGeneratorAction"
                class="com.zps.zest.GitCommitMessageGeneratorAction"
                text="Git Commit and Push / L∆∞u v√† ƒë·∫©y code l√™n Git"
                icon="com.zps.zest.ZestIcons.ZPS_CHAT_16"
                description="Open Git UI with AI-generated commit message / M·ªü giao di·ªán Git v·ªõi AI t·ª± ƒë·ªông vi·∫øt m√¥ t·∫£ commit">
            <add-to-group group-id="ZestGroup" anchor="last"/>
        </action>



        <!-- Removed Start Tools action - proxy server is now controlled via settings -->
        
        <!-- Test Generation Action -->
        <action id="Zest.GenerateTests"
                class="com.zps.zest.testgen.actions.GenerateTestAction"
                text="Generate Tests (AI) / T·∫°o test t·ª± ƒë·ªông"
                icon="com.zps.zest.ZestIcons.TEST_WRITING_16"
                description="Generate tests using AI agents / D√πng AI ƒë·ªÉ vi·∫øt test cho code c·ªßa b·∫°n">
            <add-to-group group-id="ZestGroup" anchor="last"/>
            <add-to-group group-id="EditorPopupMenu" anchor="after" relative-to-action="Generate"/>
            <keyboard-shortcut first-keystroke="ctrl alt T" keymap="$default"/>
        </action>

        <!-- Test Generation Help Action -->
        <action id="Zest.ShowTestGenerationHelp"
                class="com.zps.zest.testgen.actions.ShowTestGenerationHelpAction"
                icon="AllIcons.Actions.MoveToWindow"
                text="Test Generation Guide / H∆∞·ªõng d·∫´n t·∫°o test"
                description="View comprehensive test generation documentation / Xem t√†i li·ªáu chi ti·∫øt v·ªÅ t·∫°o test">
            <add-to-group group-id="ZestGroup" anchor="after" relative-to-action="Zest.GenerateTests"/>
        </action>
        
        <!-- Code Health Group -->
        <group id="Zest.CodeHealth" text="Code Health / S·ª©c kh·ªèe code" popup="true">
            <add-to-group group-id="ZestGroup" anchor="last"/>
            <!-- Removed from ToolsMenu - available in ZestGroup -->
            
            <!-- Removed non-functional "Activate Code Health" action -->
            
<!--            <action id="Zest.AddMethodAtCaret"-->
<!--                    class="com.zps.zest.codehealth.actions.AddMethodAtCaretAction"-->
<!--                    text="üéØ Track This Method / Theo D√µi Method N√†y"-->
<!--                    description="Add method to quality monitoring queue / Th√™m method v√†o h√†ng ƒë·ª£i gi√°m s√°t ch·∫•t l∆∞·ª£ng">-->
<!--            </action>-->
            
<!--            <action id="Zest.TriggerBackgroundReview"-->
<!--                    class="com.zps.zest.codehealth.actions.TriggerBackgroundReviewAction"-->
<!--                    text="üîÑ Process Review Queue / X·ª≠ L√Ω H√†ng ƒê·ª£i"-->
<!--                    description="Review all pending methods in background / ƒê√°nh gi√° c√°c method ƒëang ch·ªù">-->
<!--            </action>-->

            <action id="Zest.ReviewCurrentFile"
                    class="com.zps.zest.codehealth.actions.ReviewCurrentFileAction"
                    text="Review This File Now / Ki·ªÉm tra file ngay"
                    description="Immediately analyze current file / Ph√¢n t√≠ch ngay file hi·ªán t·∫°i">
                <add-to-group group-id="EditorPopupMenu" anchor="after" relative-to-action="Zest.GenerateTests"/>
                <keyboard-shortcut first-keystroke="ctrl alt H" keymap="$default"/>
            </action>
            
            <action id="Zest.TriggerFinalReview"
                    class="com.zps.zest.codehealth.actions.TriggerFinalReviewAction"
                    text="üìä Daily Health Report / B√°o c√°o ch·∫•t l∆∞·ª£ng h√†ng ng√†y"
                    description="Generate comprehensive daily report / T·∫°o b√°o c√°o t·ªïng h·ª£p ch·∫•t l∆∞·ª£ng code h√†ng ng√†y">
            </action>
            <action id="Zest.ShowGuardianHelp"
                    class="com.zps.zest.codehealth.actions.ShowGuardianHelpAction"
                    text="Usage Guide / H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng"
                    description="View Code Health usage guide / Xem h∆∞·ªõng d·∫´n s·ª≠ d·ª•ng ki·ªÉm tra s·ª©c kh·ªèe code">
            </action>
        </group>

        <!-- Ripgrep Tool Testing Action -->
        <action id="Zest.TestRipgrepTool"
                class="com.zps.zest.explanation.tools.testing.TestRipgrepToolAction"
                text="Test Ripgrep Tool / Ki·ªÉm tra c√¥ng c·ª• t√¨m ki·∫øm"
                description="Open manual testing dialog / M·ªü h·ªôp tho·∫°i ki·ªÉm th·ª≠ c√¥ng c·ª• t√¨m ki·∫øm code">
            <add-to-group group-id="ToolsMenu" anchor="last"/>
            <add-to-group group-id="CodeMenu" anchor="last"/>
            <keyboard-shortcut keymap="$default" first-keystroke="ctrl shift F12"/>
        </action>

        <!-- Code Context Agent Testing Action -->
        <action id="Zest.TestCodeContext"
                class="com.zps.zest.context.ui.TestCodeContextAction"
                text="Test Code Context Agent / Ki·ªÉm tra t√¨m hi·ªÉu ng·ªØ c·∫£nh code"
                description="Open test dialog for Code Context Agent / M·ªü h·ªôp tho·∫°i th·ª≠ nghi·ªám t√¨m hi·ªÉu code">
            <add-to-group group-id="ToolsMenu" anchor="last"/>
        </action>

        <!-- Metrics Testing Action -->
        <action id="Zest.TestMetrics"
                class="com.zps.zest.completion.metrics.testing.ui.TestMetricsAction"
                text="Test Metrics System / Ki·ªÉm tra h·ªá th·ªëng metrics"
                description="Open test dialog for Metrics System / M·ªü h·ªôp tho·∫°i th·ª≠ nghi·ªám metrics">
            <add-to-group group-id="ToolsMenu" anchor="last"/>
        </action>

        <!-- View Metrics Session Log Action -->
        <action id="Zest.ViewMetricsSession"
                class="com.zps.zest.completion.metrics.testing.ui.ViewMetricsSessionAction"
                text="View Metrics Session Log / Xem log session metrics"
                description="View complete session log of all metrics events / Xem log ƒë·∫ßy ƒë·ªß t·∫•t c·∫£ s·ª± ki·ªán metrics">
            <add-to-group group-id="ToolsMenu" anchor="last"/>
        </action>

        <!-- Code Health Debug Actions Group -->
        <group id="Zest.CodeHealthDebug" text="Debug Tools / C√¥ng c·ª• g·ª° l·ªói" popup="true">
<!--            <add-to-group group-id="Zest.CodeHealth" anchor="last"/>-->

            <action id="Zest.ShowReviewQueueStatus"
                    class="com.zps.zest.codehealth.actions.ShowReviewQueueStatusAction"
                    text="Review Queue Status / Xem danh s√°ch ch·ªù ki·ªÉm tra"
                    description="View methods being monitored / Xem c√°c ph∆∞∆°ng th·ª©c ƒëang ƒë∆∞·ª£c theo d√µi">
            </action>
            
            <action id="Zest.DebugHealthAction"
                    class="com.zps.zest.codehealth.DebugHealthAction"
                    text="Test Mode / Ch·∫ø ƒë·ªô th·ª≠ nghi·ªám"
                    description="Reset and add test data / ƒê·∫∑t l·∫°i v√† th√™m d·ªØ li·ªáu th·ª≠ nghi·ªám">
            </action>
            
            <separator/>
            

        </group>
        
        <!-- Moved debug actions to a debug submenu -->
        
        <!-- Zest Rules Management Action -->
        <action id="Zest.CreateRulesFile"
                class="com.zps.zest.actions.CreateZestRulesAction"
                text="Create/Open Zest Rules File / T·∫°o/M·ªü file quy t·∫Øc"
                description="Create or open custom rules file / T·∫°o ho·∫∑c m·ªü file ƒë·ªãnh nghƒ©a quy t·∫Øc ri√™ng cho AI">
            <add-to-group group-id="ZestGroup" anchor="first"/>
        </action>
        
        <!-- Open Chat in Editor (also in Tools menu) -->
        <action id="Zest.OpenChatInEditorTools"
                class="com.zps.zest.browser.actions.OpenChatInEditorAction"
                text="ZPS Chat (Editor) / Chat to√†n m√†n h√¨nh"
                description="Open ZPS Chat in full-screen editor tab / M·ªü chat AI ·ªü ch·∫ø ƒë·ªô to√†n m√†n h√¨nh">
            <add-to-group group-id="ToolsMenu" anchor="last"/>
        </action>

        <!-- Tool-Enabled Chat Action -->
        <action id="Zest.OpenToolEnabledChat"
                class="com.zps.zest.browser.actions.OpenToolEnabledChatAction"
                text="Chat with Tools / Chat v·ªõi c√¥ng c·ª• m·∫°nh"
                description="Open chat with code exploration tools / M·ªü chat v·ªõi kh·∫£ nƒÉng t√¨m ki·∫øm v√† ph√¢n t√≠ch code">
            <add-to-group group-id="ToolsMenu" anchor="last"/>
        </action>
        
        <!-- Zest Update Info Action -->
        <action id="Zest.ShowUpdateInfo"
                class="com.zps.zest.update.ShowUpdateInfoAction"
                text="Check for Zest Updates... / Ki·ªÉm tra c·∫≠p nh·∫≠t"
                description="Show update information / Hi·ªÉn th·ªã th√¥ng tin v√† t√πy ch·ªçn t·∫£i b·∫£n m·ªõi">
            <add-to-group group-id="ToolsMenu" anchor="last"/>
        </action>
        
        
        <!-- Zest Debug Menu (only in Tools menu) -->
        <group id="Zest.DebugMenu" text="Zest Debug / G·ª° l·ªói Zest" popup="true">
            <add-to-group group-id="ToolsMenu" anchor="last"/>
            
            <action id="Zest.ShowCompletionTimingDebug"
                    class="com.zps.zest.actions.ZestCompletionTimingDebugAction"
                    text="Completion Timing Debug... / Ki·ªÉm tra t·ªëc ƒë·ªô g·ª£i √Ω"
                    description="Show timing breakdown / Hi·ªÉn th·ªã ph√¢n t√≠ch th·ªùi gian g·ª£i √Ω code"/>
            
            <!-- Temporarily disabled - debug action removed
            <action id="Zest.ToggleCompletionDebug"
                    class="com.zps.zest.actions.ToggleCompletionDebugAction"
                    text="Toggle Completion Debug Logging"
                    description="Enable/disable verbose debug logging for completion"/>
            -->
            
            <action id="Zest.ToggleDevTools"
                    class="com.zps.zest.browser.actions.ToggleDevToolsAction"
                    text="Toggle Browser DevTools / B·∫≠t/t·∫Øt c√¥ng c·ª• debug"
                    description="Toggle developer tools / B·∫≠t/t·∫Øt c√¥ng c·ª• debug tr√¨nh duy·ªát chat"/>
                    

        </group>
    </actions>

    <!-- Change notes for version updates -->
    <change-notes><![CDATA[
        <h3>Version 1.9.902</h3>
        <ul>
            <li><b>üèóÔ∏è Architecture Simplification:</b> Replaced complex Javalin proxy with lightweight ToolApiServer - cleaner, faster, easier to maintain</li>
            <li><b>üõ†Ô∏è Multi-Project Tool Support:</b> Per-project tool servers with automatic filtering - work on multiple projects without tool conflicts</li>
            <li><b>üåê OpenWebUI Integration:</b> Native tool integration with OpenAPI 3.1.0 schema, settings-based registration, and project-aware filtering</li>
            <li><b>üéØ Enhanced Agent Mode:</b> Added tool budget system (5 exploration tools max), code understanding patterns, and strategic usage guidelines</li>
            <li><b>üí¨ Modern Chat UI:</b> Redesigned chat interface with better styling, improved dark mode support, and simplified tool rendering</li>
            <li><b>üîß Tool Enhancements:</b> Better file path resolution, improved lookup tools, and more robust code modification capabilities</li>
        </ul>

        <h3>Version 1.9.901</h3>
        <ul>
            <li><b>üõ†Ô∏è Tool-Enabled Chat:</b> Added "Chat with Tools" action in Tools menu - normal chat with powerful code exploration capabilities</li>
            <li><b>üé® UI Polish:</b> Reduced code block padding in chat for cleaner, more compact display</li>
        </ul>

        <h3>Version 1.9.900</h3>
        <ul>
            <li><b>üêõ Test Generation Bug Fixes:</b> Fixed duplicate test class display issue - tests now show correctly only once</li>
            <li><b>üí¨ Chat Memory Fix:</b> Fixed "View Chat" button functionality - now properly displays conversation history from TestWriterAgent</li>
            <li><b>üîÑ Streaming Improvements:</b> TestWriterAgent now uses ChatUIService for proper real-time streaming display</li>
            <li><b>üéØ Context Agent Enhancements:</b> Improved context gathering with better prompts and more accurate analysis</li>
            <li><b>ü§ù Human-in-the-Loop:</b> Added user intervention capability during test generation for better control</li>
            <li><b>üõ†Ô∏è Test Tools:</b> Enhanced Ripgrep code search with better pattern matching and error handling</li>
            <li><b>üìä Test UX:</b> Improved test data flow, scenario display, and phase transition notifications</li>
            <li><b>üßπ Code Quality:</b> Major refactoring of TestWriterAgent for better maintainability and streaming support</li>
        </ul>

        <h3>Version 1.9.899</h3>
        <ul>
            <li><b>Responsive Git UI:</b> Improved responsiveness and performance of the Git interface</li>
            <li><b>Test Generation:</b> Enhanced phase start notifications and test strategy display in test generation</li>
            <li><b>Browser Stability:</b> Fixed null mode handling in browser debug logging to prevent crashes</li>
            <li><b>Project Configuration:</b> Cleaned up IDEA project settings for better maintainability</li>
            <li><b>Test Scenario Display:</b> Improved test scenario dialog with clearer formatting</li>
            <li><b>UI Polish:</b> Various small UI improvements in git interface and dialogs</li>
        </ul>

        <h3>Version 1.9.898</h3>
        <ul>
            <li><b>Smart JSON Parsing:</b> Introduced JsonParsingHelper with multiple fallback strategies for handling malformed LLM responses</li>
            <li><b>Code Health Resilience:</b> Analysis now preserves and displays partial results even when JSON parsing partially fails</li>
            <li><b>Simplified Completions:</b> Removed complex overlap detection for more predictable and stable code suggestions</li>
            <li><b>Issue Prioritization:</b> Code Health now shows only the most critical issues (max 5 per file) for better actionability</li>
            <li><b>Performance & Cleanup:</b> Removed ~400 lines of unnecessary code, all methods now under 20 lines for maintainability</li>
        </ul>

        <h3>Version 1.9.897</h3>
        <ul>
            <li><b>Simplified Completion System:</b> Removed complex overlap detection logic for more predictable completions</li>
            <li><b>Code Health Storage Fix:</b> Fixed issue where partial analysis results weren't being stored properly</li>
            <li><b>Better JSON Parsing:</b> Added JsonParsingHelper with multiple fallback strategies for malformed LLM responses</li>
            <li><b>Improved Resilience:</b> Code Health analysis now preserves partial results even when JSON parsing fails</li>
            <li><b>Code Cleanup:</b> Removed ~400 lines of unnecessary overlap detector code</li>
        </ul>

        <h3>Version 1.9.896</h3>
        <ul>
            <li><b>Enhanced Code Health Analysis:</b> Improved resilience when parsing LLM responses, ensuring partial results are still displayed</li>
            <li><b>Focused Issue Reporting:</b> Now shows only the most critical issue per method (max 5 per file) for better actionability</li>
            <li><b>Better Error Handling:</b> Replaced blocking dialogs with non-intrusive notifications</li>
            <li><b>Performance:</b> Increased analysis timeout to 5 minutes for complex codebases</li>
            <li><b>Code Quality:</b> Major refactoring - all methods now under 20 lines for better maintainability</li>
            <li><b>UI Improvements:</b> Enhanced chat panel scrolling and JCEF stability</li>
        </ul>
        <p><i>Bug fixes and stability improvements</i></p>
    ]]></change-notes>
</idea-plugin>
